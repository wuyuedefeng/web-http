!function e(n,r,t){function o(s,u){if(!r[s]){if(!n[s]){var c="function"==typeof require&&require;if(!u&&c)return c(s,!0);if(a)return a(s,!0);var i=new Error("Cannot find module '"+s+"'");throw i.code="MODULE_NOT_FOUND",i}var d=r[s]={exports:{}};n[s][0].call(d.exports,function(e){var r=n[s][1][e];return o(r?r:e)},d,d.exports,e,n,r,t)}return r[s].exports}for(var a="function"==typeof require&&require,s=0;s<t.length;s++)o(t[s]);return o}({1:[function(e,n,r){"use strict";!function(){var n={};e("./get")(n),e("./post")(n),e("./download")(n),window.xhttp=n}()},{"./download":2,"./get":3,"./post":4}],2:[function(e,n,r){"use strict";var t=e("./tool");n.exports=function(n){n.download=function(n,r,o){t.handleConfig(n,r,o);var a=e("./xhr")();n.xhr=a,a.onprogress=e("./progress")(n),a.onreadystatechange=e("./stateChange")(n),n.async&&(a.timeout=n.timeout||999999999,a.ontimeout=n.onTimeout||function(e){console.error(n.url+" request timeout "+n.timeout+"ms")});var s=t.objToParams(n.params);a.open("GET",n.url+"?"+s,n.async),n.headers=n.headers||{};for(var u in n.headers)a.setRequestHeader(u,n.headers[u]);a.send(null)}}},{"./progress":5,"./stateChange":6,"./tool":7,"./xhr":8}],3:[function(e,n,r){"use strict";var t=e("./tool");n.exports=function(n){n.get=function(n,r,o){t.handleConfig(n,r,o);var a=e("./xhr")();n.xhr=a,a.onreadystatechange=e("./stateChange")(n),n.async!==!1&&(n.async=!0);var s=t.objToParams(n.params);a.open("GET",n.url+"?"+s,n.async),n.headers=n.headers||{};for(var u in n.headers)a.setRequestHeader(u,n.headers[u]);return a.send(null),a}}},{"./stateChange":6,"./tool":7,"./xhr":8}],4:[function(e,n,r){"use strict";var t=e("./tool");n.exports=function(n){n.post=function(n,r,o){t.handleConfig(n,r,o);var a=e("./xhr")();n.xhr=a,a.onreadystatechange=e("./stateChange")(n),n.async!==!1&&(n.async=!0);var s=t.objToParams(n.params);a.open("POST",n.url+"?"+s,n.async),n.headers=n.headers||{},a.setRequestHeader("Content-type","application/x-www-form-urlencoded");for(var u in n.headers)a.setRequestHeader(u,n.headers[u]);return console.log(11,n.data,t.objToParams(n.data)),a.send(t.objToParams(n.data)||null),a}}},{"./stateChange":6,"./tool":7,"./xhr":8}],5:[function(e,n,r){"use strict";n.exports=function(e){return function(n){if(n.lengthComputable){var r=n.loaded/n.total*100;console.log(r),e.onProgress&&e.onProgress(n,r)}}}},{}],6:[function(e,n,r){"use strict";function t(e,n,r,t){var a=o.xhr,s=a.getResponseHeader("Content-Type"),u=a.response;"success"==e?(/json/i.test(s)&&(u=JSON.parse(u)),o.onEnd&&o.onEnd(!1,u),o.onSuccess&&o.onSuccess(u)):"error"==e&&(o.onEnd&&o.onEnd(!0,u),o.onError&&o.onError(u))}var o=null;n.exports=function(e){o=e;var n=e.xhr;return function(){var e=n.readyState;4==e&&(200==n.status?t("success",4,200):t("error",4,n.status,n.statusText))}}},{}],7:[function(e,n,r){"use strict";function t(e){return Object.keys(e).map(function(n){return n+"="+e[n]}).join("&")}r.objToParams=t,r.objToData=function(e){if("FormData"in window){var n=new FormData;for(key in e)console.log(key),n.append(key,e.key)}else n=t(e);return n},r.handleConfig=function(e,n,r){e=e||{},e.params=e.params||{},e.data=e.data||{},e.onSuccess=e.onSuccess||n,e.onError=e.onError||r,e.async!==!1&&(e.async=!0)}},{}],8:[function(e,n,r){"use strict";n.exports=function(){var e=null;if(window.XMLHttpRequest)e=new XMLHttpRequest;else{if(!window.ActiveXObject)return e||alert("浏览器不支持xmlHttpRequest"),null;e=new ActiveXObject("Microsoft.XMLHTTP")}return e}},{}]},{},[1]);